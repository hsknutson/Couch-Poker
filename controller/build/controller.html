<!DOCTYPE html>
<html>
<head>
<style>
/* Inported Styling */
input[type='number'] {
    -moz-appearance:textfield;
}
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
}
/* The slider handle (use -webkit- (Chrome, Opera, Safari, Edge) and -moz- (Firefox) to override default look) */
.slider::-webkit-slider-thumb {
    -webkit-appearance: none; /* Override default look */
    appearance: none;
    width: 15px; /* Set a specific slider handle width */
    height: 15px; /* Slider handle height */
    background: white;
	cursor: pointer; /* Cursor on hover */
	border: 1px rgb(34,106,136);;
}

.slider::-moz-range-thumb {
	width: 15px; /* Set a specific slider handle width */
    height: 15px; /* Slider handle height */
    background: white;
	cursor: pointer; /* Cursor on hover */
	border: 3px rgb(34,106,136);
}

.nav {
	-webkit-transition: left 0.5s ease;
	-moz-transition: left 0.5s ease;
	-ms-transition: left 0.5s ease;
	-o-transition: left 0.5s ease;
	transition: left 0.5s ease;
	background: rgba(94, 94, 94, 0.94);
	color: white;
	cursor: pointer;
	font-size: 2rem;
	height: 100vh;
	left: -100%;
	position: fixed;
	top: 0;
	width: 45vw;;
	z-index: 1;
  }
  
  .nav.expanded { left: 0; }
  
  .nav ul {
	width: 100%;
	top: 25%;
	-webkit-transform: translateY(-25%);
	-ms-transform: translateY(-25%);
	transform: translateY(-25%);
	list-style: none;
	margin-top: 15vh;
	padding: 0;
  }

  .nav li button{
	  border: 0;
	  background-color: transparent;
	  color: white;
  }
  .nav li button:hover{
	background-color: white;
	color: black;
}

  .nav-toggle {
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  cursor: pointer;
  position: fixed;
  height: 20px;
  left: 10px;
  top: 16px;
  width: 40px;
  z-index: 2;
}

.nav-toggle:hover { opacity: 0.8; }

.nav-toggle .nav-toggle-bar,  .nav-toggle .nav-toggle-bar::after,  .nav-toggle .nav-toggle-bar::before {
  position: absolute;
  top: 50%;
  -webkit-transform: translateY(-50%);
  -ms-transform: translateY(-50%);
  transform: translateY(-50%);
  -webkit-transition: all 0.5s ease;
  -moz-transition: all 0.5s ease;
  -ms-transition: all 0.5s ease;
  -o-transition: all 0.5s ease;
  transition: all 0.5s ease;
  background: white;
  content: '';
  height: 0.4rem;
  width: 100%;
}

.nav-toggle .nav-toggle-bar { margin-top: 0; }

.nav-toggle .nav-toggle-bar::after { margin-top: 0.8rem; }

.nav-toggle .nav-toggle-bar::before { margin-top: -0.8rem; }

.nav-toggle.expanded .nav-toggle-bar { background: transparent; }

.nav-toggle.expanded .nav-toggle-bar::after, .nav-toggle.expanded .nav-toggle-bar::before {
  background: white;
  margin-top: 0;
}

.nav-toggle.expanded .nav-toggle-bar::after {
  -ms-transform: rotate(45deg);
  -webkit-transform: rotate(45deg);
  transform: rotate(45deg);
}

.nav-toggle.expanded .nav-toggle-bar::before {
  -ms-transform: rotate(-45deg);
  -webkit-transform: rotate(-45deg);
  transform: rotate(-45deg);
}
.ul {
	width: 100%;
}

/*****************************************/

div {
	font-family: "Verdana", Geneva, sans-serif;
}

body {
	background-color: rgb(34,106,136);
	margin: 0;
}

button {
	color:rgb(34,106,136);
}

input {
	
	color:rgb(34,106,136);
}

.view {
	height: 100vh;
	width: 100vw;
}

#start-view {
	display: grid;
	grid-template-areas: "."
											 "form"
											 "."
											 "submit";
	place-items: center;
}

#enter-username-div {
	width: 80%;
	font-size: 32px;
	grid-area: form;
}

#submit-username-div {
	width: 100%;
	font-size: 24px;
	grid-area: submit;
}

#host-div {
	width: 100%;
	font-size: 24px;
	grid-area: submit;
}

#input-username {
	position: absolute;
	text-align: center;
	margin-top: 60vh;
	margin-left: 5%;
	width: 90%;
	height: 60px;
	font-size: 28px;
	border: 2px;
	border-color: rgb(116,203,234);
	border-radius: 15px 5px 15px 5px;
	box-shadow: 1px 1px 2px black, 0 0 1px rgb(116,203,234), 0 0 5px rgb(116,203,234);
}

#submit-username {
	background-color:white;
	border: 2px;
	position: absolute;
	margin-top: 80vh;
	width: 50%;
	height: 70px;
	margin-left: 25%;
	font-size: 24px;
	border-color: rgb(116,203,234);
	border-radius: 15px 5px 15px 5px;
	box-shadow: 1px 1px 2px black, 0 0 1px rgb(116,203,234), 0 0 5px rgb(116,203,234);
}

#game-tip {
	position: absolute;
	margin-top: 10vh;
	margin-left: 10%;
	text-align: center;
	width: 80%;
	font-size: 14px;
	color: white;
	text-shadow: 1px 1px 2px black, 0 0 1px rgb(116,203,234);
}

#start-game {
	border: 2px;
	position: absolute;
	margin-top: 80vh;
	width: 70%;
	height: 70px;
	margin-left: 15%;
	font-size: 24px;
	border-color: rgb(116,203,234);
	border-radius: 15px 5px 15px 5px;
	box-shadow: 1px 1px 2px black, 0 0 1px rgb(116,203,234), 0 0 5px rgb(116,203,234);
}

.move-button {
	border: 2px;
	width: 25%;
	height: 50px;
	font-size: 3vw;
	border-color: rgb(116,203,234);
	border-radius: 5px;
	box-shadow: 1px 1px 2px black, 0 0 3px rgb(116,203,234), 0 0 3px rgb(116,203,234);}

#move-bar {
	margin-top: 2vh;
	margin-bottom: 2vh;
	width: 100%;
	text-align: justify;
    display: flex;
  	justify-content: space-around;
	zoom: 1;
}

#player-information {
	text-align: center;
	margin-top: 2vh;
	font-size: 3vh;
	color: white;
	text-shadow: 1px 1px 2px black, 0 0 3px rgb(116,203,234);
}

#card-row {
	margin-top: 15vh;
	display: flex;
	justify-content: space-around;
}

#hole-card-1 {
	width: 45%;
	height: 62vw;
	background: url("Cards/As.svg") no-repeat top left;
	background-size: contain;
	border-radius: 40px;
	box-shadow: 1px 1px 2px black, 0 0 10px rgb(116,203,234), 0 0 5px rgb(116,203,234);
}

#hole-card-2 {
	width: 45%;
	height: 62vw;
	background: url("Cards/As.svg") no-repeat top left;
	background-size: contain;
	border-radius: 40px;
	box-shadow: 1px 1px 2px black, 0 0 10px rgb(116,203,234), 0 0 5px rgb(116,203,234);}


#slider-row {
	width: 100%;
	display: flex;
	justify-content: space-around;
}

.slider {
    width: 100%; /* Full-width */
    height: 40px; /* Specified height */
    outline: none; /* Remove outline */
}

#input-betting-amount {
	width: 15vw;
	text-align: center;
	font-size: 3vw;
	height: 50px;
	border-color: rgb(5, 100, 41);
	box-shadow: -1px -1px -1px black, 0 0 5px rgb(116,203,234), 0 0 5px rgb(116,203,234);}

#betting-controls {
	background-color: rgba(255, 255, 255, 0.145);
	padding: 10px;
}

#betting-amount-slider {
	margin-top: 1vh;
	vertical-align: middle;
	width: 72vw;
	font-size: 4vw;
}

#button-row {
	margin-top: 1.5vh;
	width: 100%;
	display: flex;
	justify-content: space-around;
}

#button-panel {
	margin-top: 1.5vh;
	width: 100%;
	display: flex;
	justify-content: space-around;
}

.betting-button {
	border: 2px;
	width: 25vw;
	height: 7vw;
	font-size: 3vw;
	border-color: rgb(5, 100, 41);
	border-radius: 5px;
	box-shadow: 1px 1px 2px black, 0 0 3px rgb(116,203,234), 0 0 3px rgb(116,203,234);}

#plus-bet-button {
	width: 7vw;
	height: 7vw;
}

#minus-bet-button {
	width: 7vw;
	height: 7vw;
}


#username-text {
	font-size: 4vh;
}

#waiting-statement {
	display: none;
}

#ranking-row {
	height: 9vh;
	background: #303030;
	display: flex;
	justify-content: space-around;
}

#ranking-row-info {
	padding: 10px;
	width: 150%;
	overflow: visible;
}

#header {
	padding: 2.5vh;
	justify-content: center;
}

#header-title {
	font-size: 4vw;
	color: white;
	text-align: center;
}

#header-description {
	vertical-align: middle;
	font-style: oblique;
	font-size: 2vw;
	color: white;
	text-align: center;
}

#hand-rank {
	font-style: oblique;
	font-size: 2vh;
	color: white;
}

#hand-rank-description {
	font-style: oblique;
	font-size: 1.5vh;
	color: white;
}

.open-subpage {
	width: 100%;
	height: 6vh;
	font-size: 5vw;
}

.button {
	background-color: white;
}



</style>
	<meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body onload="init()">
	<div id="no-game-view" class="view default-view">

	</div>

	<div id="submit-username-view" class="view">
		<div id="game-tip" style="font-size:58px;">Couch Poker</div>
		<div id="enter-username-div">
			<input id="input-username" type="text" name="username" placeholder="Name">
		</div>
		<div id="submit-username-div">
			<button id="submit-username">Join Game</button>
		</div>
	</div>

    <div id="host-view" class="view">
		<div id="game-tip">You're the host! Wait for everyone to join the game before starting!</div>
		<div id="host-div">
			<button id="start-game">Start Game</button>
		</div>
	</div>

	<div id="game-not-ready-view" class="view">
		<div id="game-tip">Waiting for the game to finish setting up...</div>
	</div>

    <div id="waiting-for-host-view" class="view">
		<div id="game-tip">Waiting for more players...</div>
	</div>

	<div id="max-players-reached-view" class="view">
		<div id="game-tip">Unable to join. The maximum number of players has been reached.</div>
	</div>

	<div id="waiting-statement">
		<div id="game-tip" style="margin-top: 70vh;">
			Waiting on another player to play...
		</div>
	</div>

	<div id="action-view" class="view">
		<nav class="nav">
			<ul>
				<li><button id="player-hand-button" class="open-subpage">Your Hand</button></li>
				<li><button id="hand-history-button" class="open-subpage">Hand History</button></li>
				<li><button id="ranking-guide-button" class="open-subpage">Ranking Guide</button></li>
				<li><button id="about-button" class="open-subpage">About the Devs</button></li>
			</ul>
		</nav>
			<div class="nav-toggle">
				<div class="nav-toggle-bar"></div>
			</div>
		<div id="card-row">
			<div id='hole-card-1'></div><div id='hole-card-2'></div>
		</div>
		<div id ="player-information">
			<div id="username-text">Player</div>
			<div id="chip-count-text">1000 chips</div>
		</div>
		<div id="action-controls">
			<div id="move-bar">
				<button id="fold-button" class="move-button">Fold</button><button id="check-button" class="move-button">Check</button><button id="call-button" class="move-button">Call</button><button id="bet-button" class="move-button">Bet</button><button id="raise-button" class="move-button">Raise</button>
			</div>
			<div id="betting-controls">
				<div id="slider-row">
						<input id="input-betting-amount" type="number" name="betting-amount" placeholder="0">
						<input type="range" min="0" max="100" value="0" class="slider" id="betting-amount-slider">
				</div>
				<div id="button-row">
					<button id="minus-bet-button" class="betting-button">-</button>
					<button id="plus-bet-button" class="betting-button">+</button>
					<button id="half-pot-bet-button" class="betting-button">1/2</button>
					<button id="pot-bet-button" class="betting-button">POT</button>
					<button id="max-bet-button" class="betting-button">MAX</button>
				</div>
			</div>
		</div>
	</div>

	<div id="hand-history-view" class="view">
		<h1>Analytics View</h1>
	</div>

	<div id="ranking-guide-view" class="view">
		<div id="header">
			<div id="header-title">Ranking Guide</div>
			<div id="header-description">(Ace can either be the lowest or the highest card.)</div>
		</div>
		<div id="ranking-row">
			<img src="Cards/Ah.svg">
			<img src="Cards/Kh.svg">
			<img src="Cards/Qh.svg">
			<img src="Cards/Jh.svg">
			<img src="Cards/Th.svg">
			<div id="ranking-row-info">
				<div id="hand-rank">Royal Flush</div>
				<div id="hand-rank-description">Highest-ranking straight flush</div>
			</div>
		</div>
		<div id="ranking-row">
			<img src="Cards/5h.svg">
			<img src="Cards/4h.svg">
			<img src="Cards/3h.svg">
			<img src="Cards/2h.svg">
			<img src="Cards/Ah.svg">
			<div id="ranking-row-info">
				<div id="hand-rank">Straight Flush</div>
				<div id="hand-rank-description">5 cards in rank order, same suit</div>
			</div>
		</div>
		<div id="ranking-row">
			<img src="Cards/4s.svg">
			<img src="Cards/4h.svg">
			<img src="Cards/4c.svg">
			<img src="Cards/4d.svg">
			<div id="ranking-row-info">
				<div id="hand-rank">Four of a Kind</div>
				<div id="hand-rank-description">4 of the same rank</div>
			</div>
		</div>
		<div id="ranking-row">
			<img src="Cards/Js.svg">
			<img src="Cards/Jh.svg">
			<img src="Cards/Jc.svg">
			<img src="Cards/Qd.svg">
			<img src="Cards/Qs.svg">
			<div id="ranking-row-info">
				<div id="hand-rank">Full House</div>
				<div id="hand-rank-description">3 same rank + 2 same rank</div>
			</div>
		</div>
		<div id="ranking-row">
			<img src="Cards/Ah.svg">
			<img src="Cards/Th.svg">
			<img src="Cards/8h.svg">
			<img src="Cards/3h.svg">
			<img src="Cards/2h.svg">
			<div id="ranking-row-info">
				<div id="hand-rank">Flush</div>
				<div id="hand-rank-description">5 cards of same suit</div>
			</div>
		</div>
		<div id="ranking-row">
			<img src="Cards/8s.svg">
			<img src="Cards/7d.svg">
			<img src="Cards/6c.svg">
			<img src="Cards/5c.svg">
			<img src="Cards/4h.svg">
			<div id="ranking-row-info">
				<div id="hand-rank">Straight</div>
				<div id="hand-rank-description">5 cards in rank order</div>
			</div>
		</div>
		<div id="ranking-row">
			<img src="Cards/Ah.svg">
			<img src="Cards/Ac.svg">
			<img src="Cards/Ad.svg">
			<img src="Cards/8s.svg">
			<img src="Cards/4h.svg">
			<div id="ranking-row-info">
				<div id="hand-rank">Three of a Kind</div>
				<div id="hand-rank-description">3 same rank</div>
			</div>
		</div>
		<div id="ranking-row">
			<img src="Cards/Th.svg">
			<img src="Cards/Tc.svg">
			<img src="Cards/9h.svg">
			<div id="ranking-row-info">
				<div id="hand-rank">Two Pair</div>
				<div id="hand-rank-description">2 same rank, twice</div>
			</div>
		</div>
		<div id="ranking-row">
			<img src="Cards/6d.svg">
			<img src="Cards/6c.svg">
			<div id="ranking-row-info">
				<div id="hand-rank">Pair</div>
				<div id="hand-rank-description">2 same rank</div>
			</div>
		</div>
		<div id="ranking-row">
			<img src="Cards/Ah.svg">
			<div id="ranking-row-info">
				<div id="hand-rank">High Card</div>
				<div id="hand-rank-description">Highest ranking card, no other hands</div>
			</div>
		</div>
	</div>

	<div id="about-view" class="view">
		<h1>About the Devs</h1>
	</div>

	<script type="text/javascript" src="https://www.airconsole.com/api/airconsole-1.7.0.js"></script>
	<script type="text/javascript" src="http://code.jquery.com/jquery-3.3.1.min.js"></script>
<script>
var airconsole = null;
var vm = null;
init();

var src1;
var src2
var chipsCommitted = 0;
var canRaise = false;
var canBet = false;
var viewingCards = false;
var maximumRaiseSize = 0;
var maximumBetSize = 0;
var minimumRaiseSize = 0;
var minimumRaiseSize = 0;

function init() {
	airconsole = new AirConsole({"orientation": "portrait"});

	airconsole.onReady = function() {
    // Init the ViewManager
    vm = new AirConsoleViewManager(airconsole);
  };

  airconsole.onMessage = function(from, data) {
      // Show message on device screen
      if (from == AirConsole.SCREEN && data.action == "GAME_NOT_READY")
        vm.show("game-not-ready-view");
      if (from == AirConsole.SCREEN && data.action == "MAX_PLAYERS_REACHED")
        vm.show("max-players-reached-view");
      if (from == AirConsole.SCREEN && data.action == "CAN_JOIN")
        vm.show("submit-username-view");
      if (from == AirConsole.SCREEN && data.action == "YOU_ARE_HOST")
        vm.show("host-view");
      if (from == AirConsole.SCREEN && data.action == "WAIT_FOR_HOST")
        vm.show("waiting-for-host-view");
      if (from == AirConsole.SCREEN && data.action == "YOUR_CARDS") {
        vm.show("action-view");
        src1 = "Cards/" + data.holeCard1 + ".svg";
        console.log(src1);
        src2 = "Cards/" + data.holeCard2 + ".svg";
        showHoleCard('hole-card-1', src1, 50, 70, data.holeCard1);
        showHoleCard('hole-card-2', src2, 50, 70, data.holeCard2);
      }
      if (from == AirConsole.SCREEN && data.action == "UPDATE_CHIP_COUNT") {
        updateChipCount(data.chipCount);
      }
      if (from == AirConsole.SCREEN && data.action == "NOT_YOUR_TURN") {
        document.getElementById("waiting-statement").style.display = "block";
        document.getElementById("action-controls").style.display = "none";
      }
      if (from == AirConsole.SCREEN && data.action == "YOUR_TURN") {
        vm.show("action-view");
        document.getElementById("action-controls").style.display = "block";
        document.getElementById("waiting-statement").style.display = "none";

        if (data.canFold)
          document.getElementById("fold-button").style.display = "block";
        else
          document.getElementById("fold-button").style.display = "none";

        if (data.canCheck)
          document.getElementById("check-button").style.display = "block";
        else
          document.getElementById("check-button").style.display = "none";

        if (data.canCall) {
          document.getElementById("call-button").style.display = "block";
          document.getElementById("call-button").innerHTML = "Call " + data.callAmount;
          document.getElementById("call-button").value = data.callAmount;
        }
        else
          document.getElementById("call-button").style.display = "none";

        if (data.canBet) {
          canBet = true;
          document.getElementById("bet-button").style.display = "block";
          document.getElementById("bet-button").innerHTML = "Bet " + data.minimumBetAmount;
          document.getElementById("bet-button").value = data.minimumBetAmount;

          document.getElementById("minus-bet-button").value = data.betInterval;
          document.getElementById("plus-bet-button").value = data.betInterval;
          var halfPotBetSize = data.potSize/2;
          if (halfPotBetSize > data.maximumBetSize)
            halfPotBetSize = data.maximumBetSize;
          document.getElementById("half-pot-bet-button").value = halfPotBetSize;
          var potBetSize = data.potSize;
          if (potBetSize > data.maximumBetSize)
            potBetSize = data.maximumBetSize;
          document.getElementById("pot-bet-button").value = potBetSize;
          document.getElementById("max-bet-button").value = data.maximumBetSize;
          maximumBetSize = data.maximumBetSize;
          minimumBetSize = data.minimumBetAmount;

          document.getElementById("input-betting-amount").value = data.minimumBetAmount;

          var bettingSlider = document.getElementById("betting-amount-slider");
          bettingSlider.min = data.minimumBetAmount;
          bettingSlider.max = data.maximumBetSize;
          bettingSlider.value = data.minimumBetAmount;
        }
        else {
          canBet = false;
          document.getElementById("bet-button").style.display = "none";
        }
        if (data.canRaise) {
          canRaise = true;
          document.getElementById("raise-button").style.display = "block";
          document.getElementById("raise-button").innerHTML = "Raise to " + data.minimumRaiseSize;
          document.getElementById("raise-button").value = data.minimumRaiseSize;

          console.log("raise interval: " + data.raiseInterval +  " pot size: " + data.potSize);
          document.getElementById("minus-bet-button").value = data.raiseInterval;
          document.getElementById("plus-bet-button").value = data.raiseInterval;
          var halfPotSizeRaise = data.chipsCommitted + data.callAmount + 0.5 * (data.potSize + data.callAmount);
          if (halfPotSizeRaise > data.maximumRaiseSize)
            halfPotSizeRaise = data.maximumRaiseSize;
          document.getElementById("half-pot-bet-button").value = halfPotSizeRaise;
          var potSizeRaise = data.chipsCommitted + data.callAmount + (data.potSize + data.callAmount);
          if (potSizeRaise > data.maximumRaiseSize)
            potSizeRaise = data.maximumRaiseSize;
          document.getElementById("pot-bet-button").value = potSizeRaise;
          document.getElementById("max-bet-button").value = data.maximumRaiseSize;
          maximumRaiseSize = data.maximumRaiseSize;
          minimumRaiseSize = data.minimumRaiseSize;

          document.getElementById("input-betting-amount").value = data.minimumRaiseSize;

          var bettingSlider = document.getElementById("betting-amount-slider");
          bettingSlider.min = data.minimumRaiseSize;
          bettingSlider.max = data.maximumRaiseSize;
          bettingSlider.value = data.minimumRaiseSize;
        }
        else {
          canRaise = false;
          document.getElementById("raise-button").style.display = "none";
        }
      }
      if (from == AirConsole.SCREEN && data.action == "WAIT_FOR_TURN") {
        document.getElementById("fold-button").style.display = "none";
        document.getElementById("check-button").style.display = "none";
        document.getElementById("call-button").style.display = "none";
        document.getElementById("bet-button").style.display = "none";
        document.getElementById("raise-button").style.display = "none";
      }
    };

  /*
   * Checks if this device is part of the active game.
   */
  /*airconsole.onActivePlayersChange = function(player) {
  var div = document.getElementById("player_id");
    if (player !== undefined) {
      vm.show('no-game-view');
    } else {
      vm.show('start-view');
    }
  };*/


  document.getElementById('submit-username').addEventListener("click", submitUsername);
  document.getElementById('start-game').addEventListener("click", startGame);

  document.getElementById('fold-button').addEventListener("click", fold);
  document.getElementById('check-button').addEventListener("click", check);
  document.getElementById('call-button').addEventListener("click", call);
  document.getElementById('bet-button').addEventListener("click", bet);
  document.getElementById('raise-button').addEventListener("click", raise);


  $("#player-hand-button").on("click", function(evt) {
    vm.show("action-view");
  });
  $("#hand-history-button").on("click", function(evt) {
    vm.show("hand-history-view");
  });
  $("#ranking-guide-button").on("click", function(evt) {
    vm.show("ranking-guide-view");
  });
  $("#about-button").on("click", function(evt) {
    vm.show("about-view");
  });
  $(".betting-button").on("click", function(evt) {
  });
  $("#betting-amount-slider").bind("input", function() {
    changeBetAmount($(this).val());
  });

  $('#input-betting-amount').bind("input", function() {
    changeBetAmountWithText($(this).val());
  });

  $(".betting-button").on("click", function(evt) {
    evt.stopPropagation();
    evt.preventDefault();
    evt.stopImmediatePropagation();
    var button;
    if (canBet)
      button = document.getElementById("bet-button");
    else if (canRaise)
      button = document.getElementById("raise-button");
    var $button = $(this);
    if ($button.text() == "-") {
      var newVal = button.value - $button.val();
      if (canBet && newVal < minimumBetAmount)
        newVal = minimumBetAmount;
      else if (canRaise && newVal < minimumRaiseSize)
        newVal = minimumRaiseSize;
      if (canBet)
        updateBetAmount(newVal);
      else if (canRaise)
        updateRaiseAmount(newVal);
    }
    else if ($button.text() == "+") {
      var newVal = Number(button.value) + Number($button.val());
      if (canBet && newVal > maximumBetSize)
        newVal = maximumBetSize;
      else if (canRaise && newVal > maximumRaiseSize)
        newVal = maximumRaiseSize;
      if (canBet)
        updateBetAmount(newVal);
      else if (canRaise)
        updateRaiseAmount(newVal);
    }
    else if ($button.text() == "1/2") {
      var newVal = $button.val();
      if (canBet)
        updateBetAmount(newVal);
      else if (canRaise)
        updateRaiseAmount(newVal);
    }
    else if ($button.text() == "POT") {
      var newVal = $button.val();
      if (canBet)
        updateBetAmount(newVal);
      else if (canRaise)
        updateRaiseAmount(newVal);
    }
    else if ($button.text() == "MAX") {
      var newVal = $button.val();
      if (canBet)
        updateBetAmount(newVal);
      else if (canRaise)
        updateRaiseAmount(newVal);
    }
  });
   
  $("card-row").on("click", function(evt) {
    if (viewingCards)
    {
      hideCards();
      viewingCards = !viewingCards;
    }
    else
    {
      revealCards(src1, src2);
      viewingCards = !viewingCards;
    }
  });
}

function revealCards(card1, card2) {
  document.getElementById("hole-card-1").style.background = url(card1);
  document.getElementById("hole-card-2").style.background = url(card2);
}

function hideCards() {
  document.getElementById("hole-card-1").style.background = url("As.svg");
  document.getElementById("hole-card-2").style.background = url("As.svg");
}

function updateBetAmount(amount) {
  document.getElementById("bet-button").value = amount;
  document.getElementById("bet-button").innerHTML = "Bet " + amount;
  var bettingSlider = document.getElementById("betting-amount-slider");
  bettingSlider.value = amount;
  document.getElementById('input-betting-amount').value = amount;
  
}

function changeBetAmountWithText(val) {
  if (val < 0)
    val = 0;
  if (canBet) {
    if (val > maximumBetSize)
      val = maximumBetSize;
    document.getElementById("bet-button").value = val;
    document.getElementById("bet-button").innerHTML = "Bet " + val;
  }
  else if (canRaise) {
    if (val > maximumRaiseSize)
      val = maximumRaiseSize;
    document.getElementById("raise-button").value = val;
    document.getElementById("raise-button").innerHTML = "Raise to " + val;
  }
  var bettingSlider = document.getElementById("betting-amount-slider");
  bettingSlider.value = val;
}

function changeBetAmount(val) {
  if (canBet) {
    document.getElementById("bet-button").value = val;
    document.getElementById("bet-button").innerHTML = "Bet " + val;
    document.getElementById('input-betting-amount').value = val;
  }
  else if (canRaise) {
    document.getElementById("raise-button").value = val;
    document.getElementById("raise-button").innerHTML = "Raise to " + val;
    document.getElementById('input-betting-amount').value = val;
  }
}

function updateRaiseAmount(amount) {
  document.getElementById("raise-button").value = amount;
  document.getElementById("raise-button").innerHTML = "Raise to " + amount;
  var bettingSlider = document.getElementById("betting-amount-slider");
  bettingSlider.value = amount;
  document.getElementById('input-betting-amount').value = amount;
}

function fold() {
  var message = {
		'action': 'FOLD',
	};

	airconsole.message(airconsole.SCREEN, message);
}

function check() {
  var message = {
		'action': 'CHECK',
	};

	airconsole.message(airconsole.SCREEN, message);
}

function call() {
  var message = {
		'action': 'CALL',
    'callAmount': document.getElementById('call-button').value
	};

	airconsole.message(airconsole.SCREEN, message);
}

function updateChipCount(chipCount) {
  document.getElementById('chip-count-text').innerHTML = chipCount + " chips";
}

function bet() {
  var message = {
		'action': 'BET',
    'betAmount': document.getElementById('bet-button').value
	};

	airconsole.message(airconsole.SCREEN, message);
}

function raise() {
  var message = {
		'action': 'RAISE',
    'raiseAmount': document.getElementById('raise-button').value
	};

	airconsole.message(airconsole.SCREEN, message);
}

function submitUsername() {
	username = document.getElementById('input-username').value;
	if (username == "") {
		alert("Please enter a username.");
	}

	var message = {
		'action': 'TAKE_SEAT',
		'username': username
	};

	airconsole.message(airconsole.SCREEN, message);
  document.getElementById("username-text").innerHTML = username;
}

function startGame() {
	var message = {
		'action': 'SHUFFLE_UP_AND_DEAL'
	};

	airconsole.message(airconsole.SCREEN, message);
}

function showHoleCard(id, src, width, height, alt) {
  var img = document.createElement("img");
  img.src = src;
  img.width = width;
  img.height = height;
  img.alt = alt;
}

/***** IMPORTED JAVASCRIPT *****/

(function() {

  var hamburger = {
    navToggle: document.querySelector('.nav-toggle'),
    nav: document.querySelector('nav'),

    doToggle: function(e) {
      e.preventDefault();
      this.navToggle.classList.toggle('expanded');
      this.nav.classList.toggle('expanded');
    }
  };

  hamburger.navToggle.addEventListener('click', function(e) { hamburger.doToggle(e); });
  hamburger.nav.addEventListener('click', function(e) { hamburger.doToggle(e); });

}());</script>
<script>
/**
 * A view manager for both screen and controller
 * @params {AirConsole} airconsole - The airconsole instance
 * @constructor
 */
var AirConsoleViewManager = function(airconsole) {
  this.airconsole = airconsole;
  this.views = {};
  this.current_view = {
    self: null,
    ctrl: null,
    screen: null
  };
  this.class_start = 'default-view';
  this.is_screen = airconsole.device_id === AirConsole.SCREEN;
  this.setupViews_();
};

AirConsoleViewManager.prototype = {

  /**
   * Called to setup the <div class="view"></div>
   * @private
   */
  setupViews_: function() {
    var start_view_id = null;
    var views = document.querySelectorAll('.view');
    for (var i = 0; i < views.length; i++) {
      var view = views[i];
      var id = view.id;
      this.views[id] = view;
      var is_start = view.className.indexOf(this.class_start) > -1;
      if (is_start) {
        start_view_id = id;
      }
    }
    this.hideAll();
    if (start_view_id) {
      this.show(start_view_id);
    }
  },

  /**
   * Called onDeviceStateChange
   * @param {Object} custom_data - The device user data
   * @param {Function} cb - A callback function. Gets called when view was changed
   */
  onViewChange: function(custom_data, cb) {
    if (!custom_data) return;
    var screen_view = custom_data.screen_view;
    var ctrl_view = custom_data.ctrl_view;
    var view_id = this.is_screen ? screen_view : ctrl_view;
    if (view_id) {
      if (this.show(view_id) && typeof cb === 'function') {
        cb(view_id);
      }
    }
  },

  /**
   * Sets the device custom state
   * @param {String} key
   * @param {Mixed} value
   */
  setState: function(key, value) {
    this.airconsole.setCustomDeviceStateProperty(key, value);
  },

  /**
   * Triggers a view change on all controllers
   * @param {String} view - The view id
   * @param {Boolean} except_me - This controller will not change the view
   */
  controllersShow: function(view, except_me) {
    if (!view) return;
    this.setState('ctrl_view', view);
    if (!this.is_screen && !except_me) {
      this.show(view);
    }
  },

  /**
   * Triggers a view change on the screen
   * @param {String} view - The view id
   */
  screenShow: function(view) {
    if (!view) return;
    this.setState('screen_view', view);
    if (this.is_screen) {
      this.show(view);
    }
  },

  /**
   * Triggers a view change on both the screen and controllers
   * @param {String} view - The view id
   */
  allShow: function(view) {
    this.screenShow(view);
    this.controllersShow(view);
  },

  /**
   * Shows a view and hides all others
   * @param {String} view - The view id
   */
  show: function(id) {
    var state = false;
    if (this.current_view.self !== id) {
      var view = this.views[id];
      if (view) {
        this.current_view.self = id;
        this.hideAll();
        view.style.display = "block";
        state = true;
      } else {
        console.warn("Could not find view with ID:", id);
      }
    }
    return state;
  },

  /**
   * Hides all views
   */
  hideAll: function() {
    for (var key in this.views) {
      this.views[key].style.display = "none";
    }
  }

};</script>
</body>
</html>
